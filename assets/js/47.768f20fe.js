(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{371:function(a,s,t){"use strict";t.r(s);var r=t(3),n=Object(r.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"jvmå†…å­˜åŒºåŸŸè¯¦è§£"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jvmå†…å­˜åŒºåŸŸè¯¦è§£"}},[a._v("#")]),a._v(" JVMå†…å­˜åŒºåŸŸè¯¦è§£")]),a._v(" "),s("h2",{attrs:{id:"_1-è¿è¡Œæ—¶æ•°æ®åŒº"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-è¿è¡Œæ—¶æ•°æ®åŒº"}},[a._v("#")]),a._v(" 1 è¿è¡Œæ—¶æ•°æ®åŒº")]),a._v(" "),s("p",[a._v("Javaå†…å­˜åŒºåŸŸå°±æ˜¯è¿è¡Œæ—¶æ•°æ®åŒºã€‚")]),a._v(" "),s("img",{staticStyle:{zoom:"80%"},attrs:{src:"https://raw.githubusercontent.com/zouquchen/Images/main/imgs/JVM%E5%86%85%E5%AD%98%E5%8C%BA%E5%9F%9F.png",alt:"JVMå†…å­˜åŒºåŸŸ"}}),a._v(" "),s("p",[a._v("æŒ‰ç…§çº¿ç¨‹ç§æœ‰å’Œå…±äº«è¿›è¡ŒåŒºåˆ†çš„è¯ã€‚ç§æœ‰éƒ¨åˆ†åŒ…å«ï¼šç¨‹åºè®¡æ•°å™¨ã€è™šæ‹Ÿæœºæ ˆã€æœ¬åœ°æ–¹æ³•æ ˆï¼›å…±äº«éƒ¨åˆ†åŒ…å«ï¼šå †ã€æ–¹æ³•åŒº")]),a._v(" "),s("ul",[s("li",[s("strong",[a._v("ç¨‹åºè®¡æ•°å™¨")]),a._v("ï¼šçº¿ç¨‹ç§æœ‰ï¼Œç”¨äºè®°å½•å½“å‰çº¿ç¨‹ä¸‹æ¡æŒ‡ä»¤çš„ä½ç½®ï¼Œä¸ä¼šå› ä¸ºçº¿ç¨‹çš„åˆ‡æ¢è€Œå¿˜è®°å½“å‰çº¿ç¨‹æ‰€æ‰§è¡Œåˆ°çš„ä½ç½®ï¼›åˆ†æ”¯ã€å¾ªç¯ã€è·³è½¬ã€å¼‚å¸¸å¤„ç†ã€çº¿ç¨‹æ¢å¤éƒ½éœ€è¦ç¨‹åºè®¡æ•°å™¨æ¥å®Œæˆã€‚ç¨‹åºè®¡æ•°å™¨å çš„ç©ºé—´éå¸¸å°ï¼Œå¹¶ä¸”ä¸ä¼šå‡ºç° "),s("code",[a._v("OutOfMemeryError")]),a._v("ï¼Œä»–ä¼šéšç€çº¿ç¨‹åˆ›å»ºè€Œåˆ›å»ºï¼Œçº¿ç¨‹çš„ç»“æŸè€Œç»“æŸã€‚")]),a._v(" "),s("li",[s("strong",[a._v("è™šæ‹Ÿæœºæ ˆ")]),a._v("ï¼šçº¿ç¨‹ç§æœ‰ï¼Œç”±ä¸€ä¸ªä¸ªæ ˆå¸§ç»„æˆï¼Œæ¯ä¸€ä¸ªæ ˆå¸§å¯¹åº”ä¸€ä¸ªæ–¹æ³•ï¼Œæ¯ä¸€ä¸ªæ–¹æ³•çš„è°ƒç”¨åˆ°æ‰§è¡Œå®Œæˆå¯¹åº”ç€æ ˆå¸§çš„å…¥æ ˆå’Œå‡ºæ ˆï¼Œæ¯ä¸ªæ ˆå¸§éƒ½åŒ…å«å±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆã€åŠ¨æ€é“¾æ¥ã€æ–¹æ³•è¿”å›åœ°å€ã€‚ä¼šå‡ºç° "),s("code",[a._v("StackOverFlowError")]),a._v(" å’Œ OutOfMemeryError` ä¸¤ç§é”™è¯¯ã€‚")]),a._v(" "),s("li",[s("strong",[a._v("æœ¬åœ°æ–¹æ³•æ ˆ")]),a._v("ï¼šçº¿ç¨‹ç§æœ‰ï¼Œè™šæ‹Ÿæœºæ ˆæ‰§è¡Œçš„æ˜¯Javaæ–¹æ³•ï¼Œæœ¬åœ°æ–¹æ³•æ ˆåˆ™ä½¿ç”¨è™šæ‹Ÿæœºçš„Nativeæ–¹æ³•ã€‚æœ¬åœ°æ–¹æ³•è¢«æ‰§è¡Œçš„æ—¶å€™ï¼Œåœ¨æœ¬åœ°æ–¹æ³•æ ˆä¹Ÿä¼šåˆ›å»ºä¸€ä¸ªæ ˆå¸§ï¼Œç”¨äºå­˜æ”¾æœ¬åœ°æ–¹æ³•çš„å±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆã€åŠ¨æ€é“¾æ¥ã€å‡ºå£ä¿¡æ¯ã€‚ä¹Ÿä¼šå‡ºç° "),s("code",[a._v("StackOverFlowError")]),a._v(" å’Œ"),s("code",[a._v("OutOfMemoryError")]),a._v(" ä¸¤ç§é”™è¯¯ã€‚")]),a._v(" "),s("li",[s("strong",[a._v("å †")]),a._v("ï¼šçº¿ç¨‹å…±äº«ï¼Œå­˜æ”¾å¯¹è±¡å®ä¾‹ï¼Œå‡ ä¹æ‰€æœ‰å¯¹è±¡å®ä¾‹ä»¥åŠæ•°ç»„éƒ½åœ¨è¿™é‡Œåˆ†é…å†…å­˜ã€‚å †ä¸»è¦åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šæ–°ç”Ÿä»£ï¼ˆEdenã€Survivorï¼‰å’Œè€ç”Ÿä»£ï¼ˆOldï¼‰ï¼Œåˆ†ä¸ºä¸¤éƒ¨åˆ†æœ‰åˆ©äºåƒåœ¾å›æ”¶ï¼Œå› ä¸ºåƒåœ¾å›æ”¶çš„ä¸»è¦åŒºåŸŸå°±æ˜¯å †ã€‚")]),a._v(" "),s("li",[s("strong",[a._v("æ–¹æ³•åŒº")]),a._v("ï¼šç”¨äºå­˜å‚¨è¢«è™šæ‹ŸæœºåŠ è½½çš„ç±»ä¿¡æ¯ã€å¸¸é‡ã€é™æ€å˜é‡ã€å³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘åçš„ä»£ç ç­‰æ•°æ®ã€‚")])]),a._v(" "),s("h3",{attrs:{id:"_1-1-ç¨‹åºè®¡æ•°å™¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-ç¨‹åºè®¡æ•°å™¨"}},[a._v("#")]),a._v(" 1.1 ç¨‹åºè®¡æ•°å™¨")]),a._v(" "),s("p",[a._v("çº¿ç¨‹ç§æœ‰ï¼Œç”¨äºè®°å½•å½“å‰çº¿ç¨‹ä¸‹æ¡æŒ‡ä»¤çš„ä½ç½®ï¼Œä¸ä¼šå› ä¸ºçº¿ç¨‹çš„åˆ‡æ¢è€Œå¿˜è®°å½“å‰çº¿ç¨‹æ‰€æ‰§è¡Œåˆ°çš„ä½ç½®ï¼›åˆ†æ”¯ã€å¾ªç¯ã€è·³è½¬ã€å¼‚å¸¸å¤„ç†ã€çº¿ç¨‹æ¢å¤éƒ½éœ€è¦ç¨‹åºè®¡æ•°å™¨æ¥å®Œæˆã€‚ç¨‹åºè®¡æ•°å™¨å çš„ç©ºé—´éå¸¸å°ï¼Œå¹¶ä¸”ä¸ä¼šå‡ºç° "),s("code",[a._v("OutOfMemeryError")]),a._v("ï¼Œä»–ä¼šéšç€çº¿ç¨‹åˆ›å»ºè€Œåˆ›å»ºï¼Œçº¿ç¨‹çš„ç»“æŸè€Œç»“æŸã€‚")]),a._v(" "),s("h3",{attrs:{id:"_1-2-è™šæ‹Ÿæœºæ ˆ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-è™šæ‹Ÿæœºæ ˆ"}},[a._v("#")]),a._v(" 1.2 è™šæ‹Ÿæœºæ ˆ")]),a._v(" "),s("p",[a._v("çº¿ç¨‹ç§æœ‰ï¼Œç”±ä¸€ä¸ªä¸ªæ ˆå¸§ç»„æˆï¼Œæ¯ä¸€ä¸ªæ ˆå¸§å¯¹åº”ä¸€ä¸ªæ–¹æ³•ï¼Œæ¯ä¸€ä¸ªæ–¹æ³•çš„è°ƒç”¨åˆ°æ‰§è¡Œå®Œæˆå¯¹åº”ç€æ ˆå¸§çš„å…¥æ ˆå’Œå‡ºæ ˆï¼Œæ¯ä¸ªæ ˆå¸§éƒ½åŒ…å«å±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆã€åŠ¨æ€é“¾æ¥ã€æ–¹æ³•è¿”å›åœ°å€ã€‚ä¼šå‡ºç° "),s("code",[a._v("StackOverFlowError")]),a._v(" å’Œ "),s("code",[a._v("OutOfMemeryError")]),a._v(" ä¸¤ç§é”™è¯¯ã€‚")]),a._v(" "),s("p",[s("code",[a._v("StackOverFlowError")]),a._v("ï¼šçº¿ç¨‹è¯·æ±‚çš„æ ˆæ·±åº¦å¤§äºè™šæ‹Ÿæœºæ‰€è¿è¡Œçš„æœ€å¤§æ·±åº¦ã€‚")]),a._v(" "),s("p",[s("code",[a._v("OutOfMemoryError")]),a._v("ï¼šæ‰©å±•æ ˆå®¹é‡æ— æ³•ç”³è¯·åˆ°è¶³å¤Ÿçš„å†…å­˜æ—¶ã€‚HotSpotè™šæ‹Ÿæœºä¸æ”¯æŒåŠ¨æ€æ‰©å±•æ ˆï¼Œæ‰€ä»¥ä¸ä¼šå‡ºç°è¿™ä¸ªå¼‚å¸¸ã€‚")]),a._v(" "),s("h4",{attrs:{id:"å±€éƒ¨å˜é‡è¡¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å±€éƒ¨å˜é‡è¡¨"}},[a._v("#")]),a._v(" å±€éƒ¨å˜é‡è¡¨")]),a._v(" "),s("p",[a._v("ä¸»è¦å­˜æ”¾äº†ç¼–è¯‘æœŸå¯çŸ¥çš„å„ç§æ•°æ®ç±»å‹ï¼ˆbooleanã€byteã€charã€shortã€intã€floatã€longã€doubleï¼‰ã€å¯¹è±¡å¼•ç”¨ï¼ˆreference ç±»å‹ï¼Œå®ƒä¸åŒäºå¯¹è±¡æœ¬èº«ï¼Œå¯èƒ½æ˜¯ä¸€ä¸ªæŒ‡å‘å¯¹è±¡èµ·å§‹åœ°å€çš„å¼•ç”¨æŒ‡é’ˆï¼Œä¹Ÿå¯èƒ½æ˜¯æŒ‡å‘ä¸€ä¸ªä»£è¡¨å¯¹è±¡çš„å¥æŸ„æˆ–å…¶ä»–ä¸æ­¤å¯¹è±¡ç›¸å…³çš„ä½ç½®ï¼‰ã€‚")]),a._v(" "),s("h4",{attrs:{id:"åŠ¨æ€é“¾æ¥"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åŠ¨æ€é“¾æ¥"}},[a._v("#")]),a._v(" åŠ¨æ€é“¾æ¥")]),a._v(" "),s("p",[a._v("ä¸»è¦æœåŠ¡ä¸€ä¸ªæ–¹æ³•éœ€è¦è°ƒç”¨å…¶ä»–æ–¹æ³•çš„åœºæ™¯ã€‚åœ¨ Java æºæ–‡ä»¶è¢«ç¼–è¯‘æˆå­—èŠ‚ç æ–‡ä»¶æ—¶ï¼Œæ‰€æœ‰çš„å˜é‡å’Œæ–¹æ³•å¼•ç”¨éƒ½ä½œä¸ºç¬¦å·å¼•ç”¨ä¿å­˜åœ¨ Class æ–‡ä»¶çš„å¸¸é‡æ± é‡Œã€‚å½“ä¸€ä¸ªæ–¹æ³•è¦è°ƒç”¨å…¶ä»–æ–¹æ³•ï¼Œéœ€è¦å°†å¸¸é‡æ± ä¸­æŒ‡å‘æ–¹æ³•çš„ç¬¦å·å¼•ç”¨è½¬åŒ–ä¸ºå…¶åœ¨å†…å­˜åœ°å€ä¸­çš„ç›´æ¥å¼•ç”¨ã€‚åŠ¨æ€é“¾æ¥çš„ä½œç”¨å°±æ˜¯ä¸ºäº†å°†ç¬¦å·å¼•ç”¨è½¬æ¢ä¸ºè°ƒç”¨æ–¹æ³•çš„ç›´æ¥å¼•ç”¨ã€‚")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/zouquchen/Images/main/imgs/%E5%8A%A8%E6%80%81%E9%93%BE%E6%8E%A5.png",alt:"image-20220715162225937"}})]),a._v(" "),s("h4",{attrs:{id:"æ“ä½œæ•°æ ˆ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ“ä½œæ•°æ ˆ"}},[a._v("#")]),a._v(" æ“ä½œæ•°æ ˆ")]),a._v(" "),s("p",[a._v("ä¸»è¦ä½œä¸ºæ–¹æ³•è°ƒç”¨çš„ä¸­è½¬ç«™ä½¿ç”¨ï¼Œç”¨äºå­˜æ”¾æ–¹æ³•æ‰§è¡Œè¿‡ç¨‹ä¸­äº§ç”Ÿçš„ä¸­é—´è®¡ç®—ç»“æœã€‚å¦å¤–ï¼Œè®¡ç®—è¿‡ç¨‹ä¸­äº§ç”Ÿçš„ä¸´æ—¶å˜é‡ä¹Ÿä¼šæ”¾åœ¨æ“ä½œæ•°æ ˆä¸­ã€‚")]),a._v(" "),s("h4",{attrs:{id:"æ–¹æ³•è¿”å›åœ°å€"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ–¹æ³•è¿”å›åœ°å€"}},[a._v("#")]),a._v(" æ–¹æ³•è¿”å›åœ°å€")]),a._v(" "),s("p",[a._v("è¿”å›æ–¹æ³•è¢«è°ƒç”¨çš„ä½ç½®ã€‚")]),a._v(" "),s("h3",{attrs:{id:"_1-3-æœ¬åœ°æ–¹æ³•æ ˆ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-æœ¬åœ°æ–¹æ³•æ ˆ"}},[a._v("#")]),a._v(" 1.3 æœ¬åœ°æ–¹æ³•æ ˆ")]),a._v(" "),s("p",[a._v("çº¿ç¨‹ç§æœ‰ï¼Œè™šæ‹Ÿæœºæ ˆæ‰§è¡Œçš„æ˜¯ Java æ–¹æ³•ï¼Œæœ¬åœ°æ–¹æ³•æ ˆåˆ™ä½¿ç”¨è™šæ‹Ÿæœºçš„ Native æ–¹æ³•ã€‚æœ¬åœ°æ–¹æ³•è¢«æ‰§è¡Œçš„æ—¶å€™ï¼Œåœ¨æœ¬åœ°æ–¹æ³•æ ˆä¹Ÿä¼šåˆ›å»ºä¸€ä¸ªæ ˆå¸§ï¼Œç”¨äºå­˜æ”¾æœ¬åœ°æ–¹æ³•çš„å±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆã€åŠ¨æ€é“¾æ¥ã€å‡ºå£ä¿¡æ¯ã€‚ä¹Ÿä¼šå‡ºç° "),s("code",[a._v("StackOverFlowError")]),a._v(" å’Œ "),s("code",[a._v("OutOfMemoryError")]),a._v(" ä¸¤ç§é”™è¯¯ã€‚")]),a._v(" "),s("p",[s("code",[a._v("StackOverFlowError")]),a._v("ï¼šçº¿ç¨‹è¯·æ±‚çš„æ ˆæ·±åº¦å¤§äºè™šæ‹Ÿæœºæ‰€è¿è¡Œçš„æœ€å¤§æ·±åº¦ã€‚")]),a._v(" "),s("p",[s("code",[a._v("OutOfMemoryError")]),a._v("ï¼šæ‰©å±•æ ˆå®¹é‡æ— æ³•ç”³è¯·åˆ°è¶³å¤Ÿçš„å†…å­˜æ—¶ã€‚HotSpotè™šæ‹Ÿæœºä¸æ”¯æŒåŠ¨æ€æ‰©å±•æ ˆï¼Œæ‰€ä»¥ä¸ä¼šå‡ºç°è¿™ä¸ªå¼‚å¸¸ã€‚")]),a._v(" "),s("h3",{attrs:{id:"_1-4-å †"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-å †"}},[a._v("#")]),a._v(" 1.4 å †")]),a._v(" "),s("p",[a._v("çº¿ç¨‹å…±äº«ï¼Œå­˜æ”¾å¯¹è±¡å®ä¾‹ï¼Œå‡ ä¹æ‰€æœ‰å¯¹è±¡å®ä¾‹ä»¥åŠæ•°ç»„éƒ½åœ¨è¿™é‡Œåˆ†é…å†…å­˜ã€‚å †ä¸»è¦åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šæ–°ç”Ÿä»£ï¼ˆEdenã€Survivorï¼‰å’Œè€ç”Ÿä»£ï¼ˆOldï¼‰ï¼Œåˆ†ä¸ºä¸¤éƒ¨åˆ†æœ‰åˆ©äºåƒåœ¾å›æ”¶ï¼Œå› ä¸ºåƒåœ¾å›æ”¶çš„ä¸»è¦åŒºåŸŸå°±æ˜¯å †ã€‚")]),a._v(" "),s("p",[a._v("å †æœ€å®¹æ˜“å‡ºç°çš„å°±æ˜¯ "),s("code",[a._v("OutOfMemoryError")]),a._v(" é”™è¯¯ï¼Œå¹¶ä¸”å‡ºç°è¿™ç§é”™è¯¯ä¹‹åçš„è¡¨ç°å½¢å¼è¿˜ä¼šæœ‰å‡ ç§ï¼Œæ¯”å¦‚ï¼š")]),a._v(" "),s("ol",[s("li",[s("code",[a._v("java.lang.OutOfMemoryError: GC Overhead Limit Exceeded")]),a._v(" ï¼š å½“ JVM èŠ±å¤ªå¤šæ—¶é—´æ‰§è¡Œåƒåœ¾å›æ”¶å¹¶ä¸”åªèƒ½å›æ”¶å¾ˆå°‘çš„å †ç©ºé—´æ—¶ï¼Œå°±ä¼šå‘ç”Ÿæ­¤é”™è¯¯ã€‚")]),a._v(" "),s("li",[s("code",[a._v("java.lang.OutOfMemoryError: Java heap space")]),a._v(" ï¼šå‡å¦‚åœ¨åˆ›å»ºæ–°çš„å¯¹è±¡æ—¶, å †å†…å­˜ä¸­çš„ç©ºé—´ä¸è¶³ä»¥å­˜æ”¾æ–°åˆ›å»ºçš„å¯¹è±¡, å°±ä¼šå¼•å‘æ­¤é”™è¯¯ã€‚")])]),a._v(" "),s("p",[s("strong",[a._v("JVM å †çš„å‚æ•°è®¾ç½®")])]),a._v(" "),s("p",[a._v("ğŸ”‘ "),s("code",[a._v("-Xms")]),a._v(" ç­‰ä»·äº "),s("code",[a._v("-XX:InitialHeapSize")])]),a._v(" "),s("p",[a._v("è¡¨ç¤ºåˆå§‹åŒ–å †å¤§å°ï¼Œä¸€æ—¦å¯¹è±¡å®¹é‡è¶…è¿‡å †çš„åˆå§‹å®¹é‡ï¼ŒJAVA å †ä¼šè‡ªåŠ¨æ‰©å®¹åˆ° -Xmx å¤§å°ã€‚é»˜è®¤å€¼ä¸ºç‰©ç†å†…å­˜çš„ 1/64ã€‚")]),a._v(" "),s("p",[a._v("ğŸ”‘ "),s("code",[a._v("-Xmx")]),a._v(" ç­‰ä»·äº "),s("code",[a._v("-XX:MaxHeapSize")])]),a._v(" "),s("p",[a._v("è¡¨ç¤ºå †å¯ä»¥æ‰©å±•åˆ°çš„æœ€å¤§å€¼ï¼Œåœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œé€šå¸¸å°† -Xms å’Œ -Xmx è®¾ç½®æˆä¸€æ ·çš„ï¼Œå› ä¸ºå½“å †ä¸å¤Ÿç”¨è€Œå‘ç”Ÿæ‰©å®¹æ—¶ï¼Œä¼šå‘ç”Ÿå†…å­˜æŠ–åŠ¨å½±å“ç¨‹åºè¿è¡Œæ—¶çš„ç¨³å®šæ€§ã€‚é»˜è®¤å€¼ä¸ºç‰©ç†å†…å­˜çš„ 1/4ã€‚")]),a._v(" "),s("p",[a._v("å°†å †å†…å­˜è®¾ç½®ä¸º 20MBï¼š"),s("code",[a._v("-Xms20m -Xmx20m")])]),a._v(" "),s("h3",{attrs:{id:"_1-5-æ–¹æ³•åŒº"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-æ–¹æ³•åŒº"}},[a._v("#")]),a._v(" 1.5 æ–¹æ³•åŒº")]),a._v(" "),s("p",[a._v("ç”¨äºå­˜å‚¨è¢«è™šæ‹ŸæœºåŠ è½½çš„ç±»ä¿¡æ¯ã€å¸¸é‡ã€é™æ€å˜é‡ã€å³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘åçš„ä»£ç ç­‰æ•°æ®ã€‚")]),a._v(" "),s("ul",[s("li",[a._v("JDK1.8ï¼šåœ¨å…ƒç©ºé—´å†…ï¼Œç›´æ¥ä½¿ç”¨å†…å­˜ï¼Œå†…å­˜å—ç³»ç»Ÿçš„é™åˆ¶ã€‚")]),a._v(" "),s("li",[a._v("JDK1.7ï¼šæ–¹æ³•åŒºä¸å †åœ°å€ç›¸è¿ï¼Œå®ç°æ–¹å¼æ˜¯æ°¸ä¹…ä»£")])]),a._v(" "),s("h2",{attrs:{id:"_2-å¸¸è§é—®é¢˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-å¸¸è§é—®é¢˜"}},[a._v("#")]),a._v(" 2 å¸¸è§é—®é¢˜")]),a._v(" "),s("h3",{attrs:{id:"javaå †æº¢å‡º"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#javaå †æº¢å‡º"}},[a._v("#")]),a._v(" Javaå †æº¢å‡º")]),a._v(" "),s("p",[a._v("ğŸ”¶ "),s("strong",[a._v("åŸç†")]),a._v("ï¼šJavaå †ç”¨äºå­˜å‚¨å¯¹è±¡å®ä¾‹ï¼Œé€šè¿‡ä¸æ–­åœ°åˆ›å»ºå¯¹è±¡ï¼Œå¹¶ä¸”ä¿è¯åˆ›å»ºçš„å¯¹è±¡ä¸ä¼šè¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶ï¼Œé‚£ä¹ˆéšç€å¯¹è±¡æ•°é‡çš„å¢åŠ ï¼Œæ€»å®¹é‡è§¦åŠæœ€å¤§å †çš„å®¹é‡é™åˆ¶åå°±ä¼šäº§ç”Ÿå†…å­˜æº¢å‡ºå¼‚å¸¸")]),a._v(" "),s("p",[a._v("ğŸ”¶ "),s("strong",[a._v("è®¾ç½®JVMå‚æ•°")]),a._v("ï¼šå †çš„æœ€å¤§å€¼å’Œæœ€å°å€¼å‡è®¾ç½®ä¸º 1MBï¼Œé€šè¿‡å‚æ•° "),s("code",[a._v("-XX:+HeapDumpOnOutOfMemoryError")]),a._v(" å¯ä»¥è®©è™šæ‹Ÿæœºåœ¨å‡ºç°å†…å­˜æº¢å‡ºå¼‚å¸¸çš„æ—¶å€™ Dump å‡ºå½“å‰çš„å†…å­˜å †è½¬å­˜å¿«ç…§ä»¥ä¾¿äº‹ååˆ†æ")]),a._v(" "),s("div",{staticClass:"language-VM line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("-Xms1m -Xmx1m -XX:+HeapDumpOnOutOfMemoryError\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[s("strong",[a._v("ğŸ”¶ Javaä»£ç ")])]),a._v(" "),s("div",{staticClass:"language-Java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("OOMTest")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("static")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" args"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("List")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Object")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v(" list "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("ArrayList")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("while")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n            list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Object")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br")])]),s("p",[a._v("ğŸ”¶ "),s("strong",[a._v("æ§åˆ¶å°è¾“å‡º")])]),a._v(" "),s("div",{staticClass:"language-Output line-numbers-mode"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br"),s("br"),s("div",{staticClass:"highlighted"},[a._v("Â ")]),s("br")]),s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('java.lang.OutOfMemoryError: Java heap space\nDumping heap to java_pid25616.hprof ...\nHeap dump file created [2466309 bytes in 0.006 secs]\nException in thread "main" java.lang.OutOfMemoryError: Java heap space\n')])]),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br")])]),s("p",[a._v("å¼‚å¸¸ä¸º "),s("code",[a._v("java.lang.OutOfMemoryError: Java heap space")]),a._v("ï¼Œè¡¨ç¤ºå †æº¢å‡ºã€‚")]),a._v(" "),s("h3",{attrs:{id:"è™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆæº¢å‡º"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆæº¢å‡º"}},[a._v("#")]),a._v(" è™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆæº¢å‡º")]),a._v(" "),s("p",[a._v("ğŸ”¶ "),s("strong",[a._v("åŸç†")]),a._v("ï¼šé€šè¿‡é€’å½’ä¸æ–­è°ƒç”¨ï¼Œç›¸å½“äºå¾€æ ˆç§ä¸æ–­åŠ å…¥æ ˆå¸§ï¼Œç›´åˆ°è¾¾åˆ°æ ˆçš„æœ€å¤§å€¼ã€‚")]),a._v(" "),s("p",[a._v("ğŸ”¶ "),s("strong",[a._v("è®¾ç½®JVMå‚æ•°")]),a._v("ï¼šè®¾ç½®å¯¹ç©ºé—´å¤§å°ã€‚")]),a._v(" "),s("div",{staticClass:"language-VM line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("-Xss128k\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[s("strong",[a._v("ğŸ”¶ Javaä»£ç ")])]),a._v(" "),s("div",{staticClass:"language-Java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("OOMTest")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("dfs")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("dfs")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("static")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" args"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("OOMTest")]),a._v(" oomTest "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("OOMTest")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n        oomTest"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("dfs")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br")])]),s("p",[a._v("ğŸ”¶ "),s("strong",[a._v("æ§åˆ¶å°è¾“å‡º")])]),a._v(" "),s("div",{staticClass:"language-Output line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('Exception in thread "main" java.lang.StackOverflowError\n\tat test.OOMTest.dfs(OOMTest.java:18)\n\t...åç»­å¼‚å¸¸å †æ ˆä¿¡æ¯çœç•¥\n')])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("h3",{attrs:{id:"æ–¹æ³•åŒºæº¢å‡º"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ–¹æ³•åŒºæº¢å‡º"}},[a._v("#")]),a._v(" æ–¹æ³•åŒºæº¢å‡º")]),a._v(" "),s("h3",{attrs:{id:"æœ¬åœ°æ–¹æ³•æ ˆæœ‰ä»€ä¹ˆç”¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬åœ°æ–¹æ³•æ ˆæœ‰ä»€ä¹ˆç”¨"}},[a._v("#")]),a._v(" æœ¬åœ°æ–¹æ³•æ ˆæœ‰ä»€ä¹ˆç”¨")]),a._v(" "),s("p",[a._v("æœ¬åœ°æ–¹æ³•æ ˆä¸è™šæ‹Ÿæœºæ ˆæ‰€å‘æŒ¥çš„ä½œç”¨éå¸¸ç›¸ä¼¼ï¼ŒåŒºåˆ«åªæ˜¯è™šæ‹Ÿæœºæ ˆä¸ºè™šæ‹Ÿæœºæ‰§è¡Œ Java æ–¹æ³•æœåŠ¡ï¼Œè€Œæœ¬åœ°æ–¹æ³•æ ˆåˆ™æ˜¯ä¸ºäº†è™šæ‹Ÿæœºä½¿ç”¨æœ¬åœ°æ–¹æ³•æœåŠ¡ã€‚")]),a._v(" "),s("h3",{attrs:{id:"æ²¡æœ‰ç¨‹åºè®¡æ•°å™¨ä¼šæ€ä¹ˆæ ·"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ²¡æœ‰ç¨‹åºè®¡æ•°å™¨ä¼šæ€ä¹ˆæ ·"}},[a._v("#")]),a._v(" æ²¡æœ‰ç¨‹åºè®¡æ•°å™¨ä¼šæ€ä¹ˆæ ·")]),a._v(" "),s("p",[a._v("Javaç¨‹åºä¸­çš„æµç¨‹æ§åˆ¶æ— æ³•å¾—åˆ°æ­£ç¡®çš„æ§åˆ¶ï¼Œå¤šçº¿ç¨‹ä¹Ÿæ— æ³•æ­£ç¡®çš„è½®æ¢ã€‚")]),a._v(" "),s("h3",{attrs:{id:"ç±»å­˜æ”¾åœ¨å“ªé‡Œ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç±»å­˜æ”¾åœ¨å“ªé‡Œ"}},[a._v("#")]),a._v(" ç±»å­˜æ”¾åœ¨å“ªé‡Œ")]),a._v(" "),s("p",[a._v("æ–¹æ³•åŒºï¼Œç”¨äºå­˜å‚¨å·²è¢«è™šæ‹ŸæœºåŠ è½½çš„ç±»å‹ä¿¡æ¯ã€å¸¸é‡ã€é™æ€å˜é‡ã€å³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘åçš„ä»£ç ç¼“å­˜ç­‰æ•°æ®ã€‚")]),a._v(" "),s("h3",{attrs:{id:"å±€éƒ¨å˜é‡å­˜æ”¾åœ¨å“ªé‡Œ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å±€éƒ¨å˜é‡å­˜æ”¾åœ¨å“ªé‡Œ"}},[a._v("#")]),a._v(" å±€éƒ¨å˜é‡å­˜æ”¾åœ¨å“ªé‡Œ")]),a._v(" "),s("p",[a._v("è™šæ‹Ÿæœºæ ˆï¼Œçº¿ç¨‹ç§æœ‰çš„ï¼Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸä¸çº¿ç¨‹ç›¸åŒã€‚è™šæ‹Ÿæœºæ ˆæè¿°çš„æ˜¯ Java æ–¹æ³•æ‰§è¡Œçš„çº¿ç¨‹å†…å­˜æ¨¡å‹ï¼šæ¯ä¸ªæ–¹æ³•è¢«æ‰§è¡Œçš„æ—¶å€™ï¼ŒJava è™šæ‹Ÿæœºéƒ½ä¼šåŒæ­¥åˆ›å»ºä¸€ä¸ªæ ˆå¸§ç”¨äºå­˜å‚¨å±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆã€åŠ¨æ€é“¾æ¥ã€æ–¹æ³•å‡ºå£ç­‰ä¿¡æ¯ã€‚æ¯ä¸€ä¸ªæ–¹æ³•è¢«è°ƒç”¨ç›´è‡³æ‰§è¡Œå®Œæ¯•çš„è¿‡ç¨‹ï¼Œå°±å¯¹åº”ç€ä¸€ä¸ªæ ˆå¸§åœ¨è™šæ‹Ÿæœºä¸­ä»å…¥æ ˆåˆ°å‡ºæ ˆçš„è¿‡ç¨‹ã€‚")]),a._v(" "),s("p",[a._v("å±€éƒ¨å˜é‡è¡¨å­˜æ”¾äº†ç¼–è¯‘æœŸå¯çŸ¥çš„å„ç§Javaè™šæ‹ŸæœºåŸºæœ¬æ•°æ®ã€å¯¹è±¡å¼•ç”¨å’Œ returnAddress ç±»å‹ã€‚")]),a._v(" "),s("h3",{attrs:{id:"æ–¹æ³•åŒºå’Œè¿è¡Œæ—¶å¸¸é‡æ± æº¢å‡º"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ–¹æ³•åŒºå’Œè¿è¡Œæ—¶å¸¸é‡æ± æº¢å‡º"}},[a._v("#")]),a._v(" æ–¹æ³•åŒºå’Œè¿è¡Œæ—¶å¸¸é‡æ± æº¢å‡º")]),a._v(" "),s("p",[a._v("è¿è¡Œæ—¶å¸¸é‡æ± æ˜¯æ–¹æ³•åŒºçš„ä¸€éƒ¨åˆ†ã€‚")]),a._v(" "),s("p",[s("code",[a._v("String::intern()")]),a._v("æ˜¯ä¸€ä¸ªæœ¬åœ°æ–¹æ³•ï¼Œå®ƒçš„ä½œç”¨æ˜¯å¦‚æœå­—ç¬¦ä¸²å¸¸é‡æ± ä¸­å·²ç»åŒ…å«ä¸€ä¸ªç­‰äºæ­¤ String å¯¹è±¡çš„å­—ç¬¦ä¸²ï¼Œåˆ™è¿”å›ä»£è¡¨æ± ä¸­æ•´ä¸ªå­—ç¬¦ä¸²çš„ String å¯¹è±¡çš„å¼•ç”¨ï¼›å¦åˆ™ï¼Œä¼šå°†æ­¤ String å¯¹è±¡åŒ…å«çš„å­—ç¬¦ä¸²æ·»åŠ åˆ°å¸¸é‡æ± ï¼Œå¹¶ä¸”è¿”å›æ­¤ String å¯¹è±¡çš„å¼•ç”¨ã€‚")])])}),[],!1,null,null,null);s.default=n.exports}}]);