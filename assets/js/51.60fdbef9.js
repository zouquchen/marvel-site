(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{375:function(s,a,t){"use strict";t.r(a);var e=t(3),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"jvmå‚æ•°è®¾ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jvmå‚æ•°è®¾ç½®"}},[s._v("#")]),s._v(" JVMå‚æ•°è®¾ç½®")]),s._v(" "),a("h4",{attrs:{id:"_1-ä¸€äº›å‘½ä»¤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-ä¸€äº›å‘½ä»¤"}},[s._v("#")]),s._v(" 1 ä¸€äº›å‘½ä»¤")]),s._v(" "),a("p",[s._v("ğŸ“Œ "),a("strong",[s._v("jpsï¼šæŸ¥çœ‹javaåå°è¿›ç¨‹")])]),s._v(" "),a("p",[s._v("è¾“å…¥å‘½ä»¤ï¼š"),a("code",[s._v("jps -l")])]),s._v(" "),a("p",[s._v("æ§åˆ¶å°è¾“å‡ºï¼š")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("14416 sun.tools.jps.Jps\n14964\n18388 test.HelloGC\n15500 org.jetbrains.idea.maven.server.RemoteMavenServer36\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("ğŸ“Œ "),a("strong",[s._v("jinfoï¼šæŸ¥çœ‹æ­£åœ¨è¿è¡Œjavaç¨‹åºçš„å„ç§ä¿¡æ¯")])]),s._v(" "),a("p",[s._v("å‘½ä»¤ï¼š"),a("code",[s._v("jinfo -flag é…ç½®é¡¹ è¿›ç¨‹ç¼–å·")]),s._v(" ã€"),a("code",[s._v("jinfo -flags è¿›ç¨‹ç¼–å·")])]),s._v(" "),a("p",[s._v("è¾“å…¥å‘½ä»¤ï¼š"),a("code",[s._v("jinfo -flag PrintGCDetails 13632")])]),s._v(" "),a("p",[s._v("è§£é‡Šï¼šæŸ¥çœ‹13632 Javaè¿›ç¨‹æ˜¯å¦å¼€å¯"),a("code",[s._v("PrintGCDetails")])]),s._v(" "),a("p",[s._v("æ§åˆ¶å°è¾“å‡ºï¼š")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("-XX:-PrintGCDetails\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("è¾“å…¥å‘½ä»¤ï¼š"),a("code",[s._v("jinfo -flags 13632")])]),s._v(" "),a("p",[s._v("è§£é‡Šï¼šæŸ¥çœ‹13632 Javaè¿›ç¨‹æ‰€æœ‰å‚æ•°çš„å€¼")]),s._v(" "),a("p",[s._v("æ§åˆ¶å°è¾“å‡ºï¼š")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Attaching to process ID 13632, please wait...\nDebugger attached successfully.\nServer compiler detected.\nJVM version is 25.321-b07\nNon-default VM flags: -XX:CICompilerCount=4 -XX:InitialHeapSize=268435456 -XX:MaxHeapSize=4284481536 -XX:MaxNewSize=1428160512 -XX:MinHeapDeltaBytes=524288 -XX:NewSize=89128960 -XX:OldSize=179306496 -XX:+PrintGCDetails -XX:+UseCompr\nessedClassPointers -XX:+UseCompressedOops -XX:+UseFastUnorderedTimeStamps -XX:-UseLargePagesIndividualAllocation -XX:+UseParallelGC\nCommand line:  -XX:+PrintGCDetails -javaagent:D:\\Program Files\\JetBrains\\IntelliJ IDEA 2021.1.2\\lib\\idea_rt.jar=59267:D:\\Program Files\\JetBrains\\IntelliJ IDEA 2021.1.2\\bin -Dfile.encoding=UTF-8\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("è¯´æ˜ï¼š")]),s._v(" "),a("p",[s._v("Non-default VM flagsï¼šç³»ç»Ÿé»˜è®¤çš„å‚æ•°")]),s._v(" "),a("p",[s._v("Command lineï¼šäººä¸ºä¿®æ”¹çš„")]),s._v(" "),a("p",[s._v("ğŸ“Œ "),a("strong",[s._v("è®¾ç½®JVMå‚æ•°")])]),s._v(" "),a("p",[s._v("èœå•æ Runâ€”â€”Edit Configurations ï¼ˆè‹¥æ²¡æœ‰ï¼Œå¯ä»¥åŒModify optionsè°ƒå‡ºæ¥ï¼‰")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/zouquchen/Images/main/imgs/image-20220619201231990-165581411314113.png",alt:"image-20220619201231990"}})]),s._v(" "),a("p",[s._v("ğŸ“Œ "),a("strong",[s._v("æŸ¥çœ‹JVMé»˜è®¤å€¼çš„æ–¹æ³•")])]),s._v(" "),a("p",[s._v("1 ä½¿ç”¨jpså‘½ä»¤æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„çº¿ç¨‹")]),s._v(" "),a("p",[s._v("2 ä½¿ç”¨jinfoå‘½ä»¤æŸ¥çœ‹å…·ä½“çº¿ç¨‹æŸä¸€å‚æ•°çš„å€¼")]),s._v(" "),a("h4",{attrs:{id:"_2-jvmçš„å‚æ•°ç±»å‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-jvmçš„å‚æ•°ç±»å‹"}},[s._v("#")]),s._v(" 2 JVMçš„å‚æ•°ç±»å‹")]),s._v(" "),a("blockquote",[a("p",[s._v("javaä»£ç åˆ°è¿è¡Œï¼šå…ˆç”¨javacç¼–è¯‘ï¼Œå†javaè¿è¡Œã€‚")])]),s._v(" "),a("p",[s._v("ğŸ’ "),a("strong",[s._v("æ ‡é…å‚æ•°")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("java -version\nJava -help\njava -showversion\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("ğŸ’ "),a("strong",[s._v("xå‚æ•°ï¼ˆäº†è§£ï¼‰")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("-Xint è§£é‡Šæ‰§è¡Œ\n-Xcomp ç¬¬ä¸€æ¬¡ä½¿ç”¨å°±ç¼–è¯‘æˆæœ¬åœ°ä»£ç \n-Xmixed æ··åˆæ¨¡å¼ï¼ˆå…ˆç¼–è¯‘ï¼Œå†æ‰§è¡Œï¼‰\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("ğŸ’ "),a("strong",[s._v("xxå‚æ•°ï¼ˆé‡ç‚¹ï¼‰")])]),s._v(" "),a("p",[s._v("âš™ "),a("strong",[s._v("booleanç±»å‹")])]),s._v(" "),a("p",[a("strong",[s._v("å…¬å¼")]),s._v("ï¼š"),a("code",[s._v("-XX:+ æˆ–è€… - æŸä¸ªå±æ€§å€¼")]),s._v("; "),a("code",[s._v("+")]),s._v(" è¡¨ç¤ºå¼€å¯ï¼› "),a("code",[s._v("-")]),s._v("è¡¨ç¤ºå…³é—­")]),s._v(" "),a("p",[a("strong",[s._v("æ¡ˆä¾‹")]),s._v("ï¼š")]),s._v(" "),a("blockquote",[a("p",[s._v("æŸ¥çœ‹13632è¿›ç¨‹æ˜¯å¦å¼€å¯"),a("code",[s._v("PrintGCDetails")])]),s._v(" "),a("p",[s._v("è¾“å…¥ï¼š"),a("code",[s._v("jinfo -flag PrintGCDetails 13632")])]),s._v(" "),a("p",[s._v("è¾“å‡ºï¼š"),a("code",[s._v("-XX:-PrintGCDetails")]),s._v("  è¡¨ç¤ºæ²¡æœ‰å¼€å¯")]),s._v(" "),a("p",[s._v("è®¾ç½®å¼€å¯çš„æ–¹æ³•ï¼šè®¾ç½®VMå‚æ•°"),a("code",[s._v("-XX:+PrintGCDetails")])])]),s._v(" "),a("p",[a("strong",[s._v("å‚æ•°æ¡ˆä¾‹")]),s._v("ï¼š")]),s._v(" "),a("blockquote",[a("p",[a("strong",[s._v("æ˜¯å¦æ‰“å°GCæ”¶é›†ç»†èŠ‚")])]),s._v(" "),a("p",[s._v("ä½¿ç”¨ï¼š"),a("code",[s._v("-XX:-PrintGCDetails")])]),s._v(" "),a("p",[s._v("ä¸ä½¿ç”¨ï¼š"),a("code",[s._v("-XX:+PrintGCDetails")])]),s._v(" "),a("p",[a("strong",[s._v("æ˜¯å¦ä½¿ç”¨ä¸²è¡Œåƒåœ¾å›æ”¶å™¨")])]),s._v(" "),a("p",[s._v("ä½¿ç”¨ï¼š"),a("code",[s._v("-XX:-UseSerialGC")])]),s._v(" "),a("p",[s._v("ä¸ä½¿ç”¨ï¼š"),a("code",[s._v("-XX:+UseSerialGC")])])]),s._v(" "),a("p",[s._v("âš™ "),a("strong",[s._v("KVæ•°å€¼ç±»å‹")])]),s._v(" "),a("p",[a("strong",[s._v("å…¬å¼")]),s._v("ï¼š"),a("code",[s._v("-XX:å±æ€§key=å±æ€§å€¼value")])]),s._v(" "),a("p",[a("strong",[s._v("æ¡ˆä¾‹")]),s._v("ï¼š")]),s._v(" "),a("blockquote",[a("p",[s._v("æŸ¥çœ‹Javaçº¿ç¨‹8576å…ƒç©ºé—´å¤§å°ï¼š"),a("code",[s._v("jinfo -flag MetaspaceSize 8576")]),s._v("\nè¾“å‡ºï¼š"),a("code",[s._v("-XX:MetaspaceSize=21807104")]),s._v("ï¼Œå…ƒç©ºé—´é»˜è®¤å¤§å°21MB")])]),s._v(" "),a("p",[a("strong",[s._v("å‚æ•°æ¡ˆä¾‹")]),s._v("ï¼š")]),s._v(" "),a("blockquote",[a("p",[s._v("è®¾ç½®å…ƒç©ºé—´å¤§å°ï¼š"),a("code",[s._v("-XX:MetaspaceSize=128m")])]),s._v(" "),a("p",[s._v("å‡çº§åˆ°è€å¹´åŒºçš„é˜ˆå€¼ï¼š"),a("code",[s._v("-XX:MaxTenuringThreshold=15")])])]),s._v(" "),a("h4",{attrs:{id:"_3-ç»å…¸å‚æ•°-xmsã€-xmx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-ç»å…¸å‚æ•°-xmsã€-xmx"}},[s._v("#")]),s._v(" 3 ç»å…¸å‚æ•°-Xmsã€-Xmx")]),s._v(" "),a("p",[s._v("ğŸ”‘ "),a("code",[s._v("-Xms")]),s._v("ç­‰ä»·äº"),a("code",[s._v("-XX:InitialHeapSize")])]),s._v(" "),a("p",[s._v("è¡¨ç¤ºåˆå§‹åŒ–å †å¤§å°ï¼Œä¸€æ—¦å¯¹è±¡å®¹é‡è¶…è¿‡å †çš„åˆå§‹å®¹é‡ï¼ŒJAVAå †ä¼šè‡ªåŠ¨æ‰©å®¹åˆ°-Xmxå¤§å°ã€‚")]),s._v(" "),a("p",[s._v("é»˜è®¤å€¼ä¸ºç‰©ç†å†…å­˜çš„1/64")]),s._v(" "),a("p",[s._v("ğŸ”‘ "),a("code",[s._v("-Xmx")]),s._v("ç­‰ä»·äº"),a("code",[s._v("-XX:MaxHeapSize")])]),s._v(" "),a("p",[s._v("è¡¨ç¤ºå †å¯ä»¥æ‰©å±•åˆ°çš„æœ€å¤§å€¼ï¼Œåœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œé€šå¸¸å°†-Xmså’Œ-Xmxè®¾ç½®æˆä¸€æ ·çš„ï¼Œå› ä¸ºå½“å †ä¸å¤Ÿç”¨è€Œå‘ç”Ÿæ‰©å®¹æ—¶ï¼Œä¼šå‘ç”Ÿå†…å­˜æŠ–åŠ¨å½±å“ç¨‹åºè¿è¡Œæ—¶çš„ç¨³å®šæ€§ã€‚")]),s._v(" "),a("p",[s._v("é»˜è®¤å€¼ä¸ºç‰©ç†å†…å­˜çš„1/4")]),s._v(" "),a("blockquote",[a("p",[s._v("å…ƒç©ºé—´å¤§å°é»˜è®¤å€¼ä¸ºæœ¬åœ°å†…å­˜çš„1/4")])]),s._v(" "),a("p",[s._v("âŒ¨ é€šè¿‡ç¨‹åºè·å¾—å‚æ•°å€¼")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("InterruptedException")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Javaè™šæ‹Ÿæœºå†…å­˜æ€»é‡")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("long")]),s._v(" totalMemory "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Runtime")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getRuntime")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("totalMemory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// javaè™šæ‹Ÿæœºè¯•å›¾ä½¿ç”¨çš„æœ€å¤§å†…å­˜")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("long")]),s._v(" maxMemory "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Runtime")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getRuntime")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("maxMemory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"TOTAL_MEMORY(-Xms) = "')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" totalMemory "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('" ï¼ˆå­—èŠ‚ï¼‰ã€"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("totalMemory "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("double")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MB"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MAX_MEMORY(-Xmx) = "')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" maxMemory "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('" ï¼ˆå­—èŠ‚ï¼‰ã€"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("maxMemory "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("double")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MB"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h4",{attrs:{id:"_4-ç»å…¸å‚æ•°-xss"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-ç»å…¸å‚æ•°-xss"}},[s._v("#")]),s._v(" 4 ç»å…¸å‚æ•° -Xss")]),s._v(" "),a("p",[s._v("ç­‰ä»·äº"),a("code",[s._v("-XX:ThreadStackSize")])]),s._v(" "),a("p",[s._v("è®¾ç½®æ–¹æ³•ï¼š"),a("code",[s._v("-Xss128k")])]),s._v(" "),a("p",[s._v("è®¾ç½®å•ä¸ªçº¿ç¨‹æ ˆçš„å¤§å°ï¼Œä¸€èˆ¬é»˜è®¤å€¼ä¸º512k~1024k")]),s._v(" "),a("h4",{attrs:{id:"_5-ç»å…¸å‚æ•°-xmn"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-ç»å…¸å‚æ•°-xmn"}},[s._v("#")]),s._v(" 5 ç»å…¸å‚æ•° -Xmn")]),s._v(" "),a("p",[s._v("è®¾ç½®å¹´è½»ä»£å¤§å°")]),s._v(" "),a("h4",{attrs:{id:"_6-ç»å…¸å‚æ•°-xx-metaspacesize"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-ç»å…¸å‚æ•°-xx-metaspacesize"}},[s._v("#")]),s._v(" 6 ç»å…¸å‚æ•° -XX:MetaspaceSize")]),s._v(" "),a("p",[s._v("è®¾ç½®å…ƒç©ºé—´å¤§å°")]),s._v(" "),a("blockquote",[a("p",[s._v("å…ƒç©ºé—´çš„æœ¬è´¨å’Œæ°¸ä¹…ä»£ç±»ä¼¼ï¼Œéƒ½æ˜¯å †JVMè§„èŒƒä¸­æ–¹æ³•åŒºçš„å®ç°ã€‚")]),s._v(" "),a("p",[s._v("åŒºåˆ«ï¼šå…ƒç©ºé—´ä¸å†è™šæ‹Ÿæœºä¸­ï¼Œè€Œæ˜¯ä½¿ç”¨æœ¬åœ°å†…å­˜ã€‚å› æ­¤ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå…ƒç©ºé—´çš„å¤§å°ä»…å—æœ¬åœ°å†…å­˜é™åˆ¶ã€‚")])]),s._v(" "),a("h4",{attrs:{id:"_7-ç»å…¸å‚æ•°-xx-printgcdetails"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-ç»å…¸å‚æ•°-xx-printgcdetails"}},[s._v("#")]),s._v(" 7 ç»å…¸å‚æ•° -XX:+PrintGCDetails")]),s._v(" "),a("p",[s._v("è¾“å‡ºè¯¦ç»†GCæ”¶é›†æ—¥å¿—ä¿¡æ¯")]),s._v(" "),a("p",[s._v("Yong GC æ¡ˆä¾‹")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/zouquchen/Images/main/imgs/image-20220620215952170.png",alt:"image-20220620215952170"}})]),s._v(" "),a("p",[s._v("Full GC æ¡ˆä¾‹")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/zouquchen/Images/main/imgs/image-20220620220513101.png",alt:"image-20220620220513101"}})]),s._v(" "),a("p",[s._v("è§„å¾‹ï¼šGCå‰å†…å­˜å ç”¨->GCåå†…å­˜å ç”¨ ï¼ˆè¯¥å†…å­˜æ€»å¤§å°ï¼‰")]),s._v(" "),a("h4",{attrs:{id:"_8-ç»å…¸å‚æ•°-xx-survivorratio"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-ç»å…¸å‚æ•°-xx-survivorratio"}},[s._v("#")]),s._v(" 8 ç»å…¸å‚æ•° -XX:SurvivorRatio")]),s._v(" "),a("p",[s._v("è®¾ç½®æ–°ç”Ÿä»£ä¸­eden/S0/S1ç©ºé—´çš„æ¯”ä¾‹ï¼ŒSurvivorRatioå€¼å°±æ˜¯è®¾ç½®edenåŒºçš„æ¯”ä¾‹å å¤šå°‘ï¼ŒS0/S1ç›¸åŒ")]),s._v(" "),a("p",[s._v("é»˜è®¤ï¼š-XX:SurvivorRatio=8,    Eden:S0:S1 = 8:1:1")]),s._v(" "),a("p",[s._v("è®¾ç½®ï¼š-XX:SurvivorRatio=4,    Eden:S0:S1 = 4:1:1")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/zouquchen/Images/main/imgs/image-20220620220935477.png",alt:"image-20220620220935477"}})]),s._v(" "),a("h4",{attrs:{id:"_9-ç»å…¸å‚æ•°-xx-newratio"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-ç»å…¸å‚æ•°-xx-newratio"}},[s._v("#")]),s._v(" 9 ç»å…¸å‚æ•° -XX:NewRatio")]),s._v(" "),a("p",[s._v("é…ç½®å¹´è½»ä»£å’Œè€å¹´ä»£å†å †ç»“æ„çš„å æ¯”")]),s._v(" "),a("p",[s._v("é»˜è®¤ï¼š-XX:NewRatio=2           æ–°ç”Ÿä»£ï¼šè€å¹´ä»£=1ï¼š2")]),s._v(" "),a("p",[s._v("è®¾ç½®ï¼š-xx:NewRatio=4           æ–°ç”Ÿä»£ï¼šè€å¹´ä»£=1ï¼š4")]),s._v(" "),a("h4",{attrs:{id:"_10-ç»å…¸å‚æ•°-xx-maxtenuringthreshold"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10-ç»å…¸å‚æ•°-xx-maxtenuringthreshold"}},[s._v("#")]),s._v(" 10 ç»å…¸å‚æ•° -XX:MaxTenuringThreshold")]),s._v(" "),a("p",[s._v("åƒåœ¾è¿›å…¥è€å¹´ä»£çš„å¹´é¾„")]),s._v(" "),a("p",[s._v("é»˜è®¤ï¼š-XX:MaxTenuringThreshold=15")]),s._v(" "),a("p",[s._v("è®¾ç½®ï¼š-XX:MaxTenuringThreshold=12")]),s._v(" "),a("p",[s._v("æ³¨æ„ï¼šèŒƒå›´ä¸º0~15ï¼Œå› ä¸ºå¯¹è±¡å¤´åªæœ‰4ä½ç”¨äºå­˜å‚¨å¹´é¾„ï¼Œæœ€å¤§å€¼ä¸º1111b")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/zouquchen/Images/main/imgs/image-20220620222235303.png",alt:"image-20220620222235303"}})]),s._v(" "),a("h4",{attrs:{id:"_11-ç»å…¸è®¾ç½®æ¡ˆä¾‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_11-ç»å…¸è®¾ç½®æ¡ˆä¾‹"}},[s._v("#")]),s._v(" 11 ç»å…¸è®¾ç½®æ¡ˆä¾‹")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("-Xms128m -Xmx4096m -Xss1024k -XX:MetaspaceSize=512m -XX:+PrintCommandLineFlags -XX:+PrintGCDetails -XX:+UseSerialGC\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_12-ç›˜ç‚¹jvmé»˜è®¤å€¼"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_12-ç›˜ç‚¹jvmé»˜è®¤å€¼"}},[s._v("#")]),s._v(" 12 ç›˜ç‚¹JVMé»˜è®¤å€¼")]),s._v(" "),a("p",[s._v("ğŸ” "),a("strong",[s._v("æŸ¥çœ‹åˆå§‹å€¼")]),s._v("ï¼š"),a("code",[s._v("java -XX:+PrintFlagsInitial")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("E:\\java\\code\\studyNote\\java\\target\\classes\\lsq>java -XX:+PrintFlagsInitial\n[Global flags]\n     intx ActiveProcessorCount                      = -1                                  {product}\n    uintx AdaptiveSizeDecrementScaleFactor          = 4                                   {product}\n    uintx AdaptiveSizeMajorGCDecayTimeScale         = 10                                  {product}\n    uintx AdaptiveSizePausePolicy                   = 0                                   {product}\n    uintx AdaptiveSizePolicyCollectionCostMargin    = 50                                  {product}\n    uintx AdaptiveSizePolicyInitializingSteps       = 20                                  {product}\n    uintx AdaptiveSizePolicyOutputInterval          = 0                                   {product}\n    uintx AdaptiveSizePolicyWeight                  = 10                                  {product}\n    uintx AdaptiveSizeThroughPutPolicy              = 0                                   {product}\n    uintx AdaptiveTimeWeight                        = 25                                  {product}\n     bool AdjustConcurrency                         = false                               {product}\n     bool AggressiveHeap                            = false                               {product}\n     bool AggressiveOpts                            = false                               {product}\n\t...\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("p",[a("code",[s._v("=")]),s._v("ï¼šè¡¨ç¤ºJVMé»˜è®¤åŠ è½½çš„å€¼")]),s._v(" "),a("p",[s._v("æŸ¥çœ‹ä¿®æ”¹æ›´æ–°ï¼š"),a("code",[s._v("java -XX:+PrintFlagsFinal")])]),s._v(" "),a("p",[a("code",[s._v(":=")]),s._v("ï¼šè¡¨ç¤ºä¿®æ”¹è¿‡çš„å€¼ï¼ˆJVMè‡ªå·±ä¿®æ”¹æˆ–æ˜¯è®¤ä¸ºä¿®æ”¹ï¼‰")]),s._v(" "),a("p",[s._v("ğŸ” è®¾ç½®å±æ€§è¿è¡ŒJavaä»£ç ï¼Œå¹¶æŸ¥çœ‹jvmå±æ€§å€¼ï¼š")]),s._v(" "),a("p",[a("code",[s._v("java -XX:+PrintFlagsFinal -Xms128k javaç¨‹åº")])]),s._v(" "),a("p",[s._v("ğŸ” æŸ¥çœ‹é»˜è®¤å€¼ï¼š"),a("code",[s._v("java -XX:+PrintCommandLineFlags -version")])]),s._v(" "),a("p",[s._v("è¾“å‡ºï¼š")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('-XX:InitialHeapSize=267755904 -XX:MaxHeapSize=4284094464 -XX:+PrintCommandLineFlags -XX:+UseCompressedClassPointers -XX:+UseCompressedOops -XX:-UseLargePagesIndividualAllocation -XX:+UseParallelGC\njava version "1.8.0_321"\nJava(TM) SE Runtime Environment (build 1.8.0_321-b07)\nJava HotSpot(TM) 64-Bit Server VM (build 25.321-b07, mixed mode)\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("å¯ä»¥æŸ¥çœ‹åˆ°å †çš„å¤§å°ã€é»˜è®¤åƒåœ¾å›æ”¶å™¨ç­‰ã€‚")])])}),[],!1,null,null,null);a.default=n.exports}}]);