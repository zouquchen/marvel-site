# ä»åŸç†ä¸Šåˆ†æ i = i++ ä¸ i = ++i

## 1 å‰ç½®çŸ¥è¯†

`i = i++` ä¸ `i = ++i` ä¸ `k = i + ++i * i++`çš„è¿ç®—æ¶‰åŠ**å±€éƒ¨å˜é‡è¡¨**å’Œ**æ“ä½œæ•°æ ˆ**ã€‚

- è‡ªå¢ã€è‡ªå‡å°‘æ“ä½œéƒ½æ˜¯ç›´æ¥ä¿®æ”¹å˜é‡çš„å€¼ï¼Œå…¶å®æ˜¯åœ¨å±€éƒ¨å˜é‡ä¸­å®Œæˆï¼Œä¸ç»è¿‡æ“ä½œæ•°æ ˆã€‚
- èµ‹å€¼=ï¼Œæœ€åè®¡ç®—ã€‚
- èµ‹å€¼ä¹‹å‰ï¼Œä¸´æ—¶çš„ç»“æœéƒ½æ˜¯å­˜å‚¨åœ¨æ“ä½œæ•°æ ˆä¸­ã€‚
- å®é™…çš„è¿ç®—é¡ºåºçœ‹è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§ã€‚

## 2 `i++`ä¸`++i`
å¯¹äºè¿™æ ·ä¸€æ®µä»£ç ï¼š

```java
int i = 1;
i++;
```
æˆ–
```java
int i = 1;
++i;
```
å­—èŠ‚ç æ–‡ä»¶å‡ä¸º

```java
iconst_1  // å°†ç«‹å³æ•° 1 å‹æ ˆ
istore_1  // æ“ä½œæ•°æ ˆé¡¶ -> å±€éƒ¨å˜é‡è¡¨ 1 ä½ç½®
iinc 1 1  // å°†å±€éƒ¨å˜é‡è¡¨ç´¢å¼•ä¸º1ä½ç½®çš„å€¼ï¼ŒåŠ ä¸Š1ã€‚
```
å­—èŠ‚ç å‰ä¸¤è¡Œå¯¹åº”`int i = 1;`ï¼Œç¬¬ä¸‰è¡Œå¯¹åº”è‡ªå¢æ“ä½œï¼Œä»ä¸­å¯ä»¥çœ‹å‡ºèµ‹å€¼æ“ä½œéœ€è¦æ“ä½œæ•°æ ˆï¼Œè€Œè‡ªå¢æ“ä½œä¸éœ€è¦æ“ä½œæ•°æ ˆã€‚

ä¹Ÿå°±æ˜¯è¯´`i++`ä¸`++i`åœ¨å•ç‹¬ä½¿ç”¨çš„æ—¶å€™æ˜¯æ²¡æœ‰ä»»ä½•åŒºåˆ«çš„ï¼Œåªæœ‰åœ¨é…åˆ`=`èµ‹å€¼ç¬¦å·çš„æ—¶å€™æ‰ä¼šæœ‰åŒºåˆ«ã€‚


## 3 `i = i++` ä¸ `i = ++i`
å¯¹äºä¸‹é¢ä¸¤ç«¯ä»£ç ï¼š
```java
public static void main(String[] args) {
    int i = 1;
    i = i++;
    System.out.println(i);  // è¾“å‡ºï¼š1
}
```

```java
public static void main(String[] args) {
    int i = 1;
    i = ++i;
    System.out.println(i); // è¾“å‡ºï¼š2
}
```
å†æ¬¡æŸ¥çœ‹å­—èŠ‚ç ï¼š

å¯¹äº`i = i++;`

```java
iconst_1
istore_1
iload_1   <--
iinc 1 1  <--
istore_1
```
å¯¹äº`i = ++i;`

```java
iconst_1
istore_1
iinc 1 1  <--
iload_1   <--
istore_1
```
ğŸ“– å¯ä»¥çœ‹å‡ºåªæœ‰ç¬¬ä¸‰è¡Œå’Œç¬¬å››è¡Œä»£ç çš„é¡ºåºä¸åŒï¼Œè¿™ä¸¤è¡Œè¡¨ç¤ºä»€ä¹ˆæ„æ€ï¼Œä¸ºä»€ä¹ˆä»–ä»¬çš„ä¸åŒå¯¼è‡´æœ€åçš„ç»“æœä¸åŒå‘¢ï¼Ÿä¸‹é¢çœ‹çœ‹æ³¨è§£ã€‚

ğŸ“Œ å¯¹äº`i = i++;`

```
// ä¸‹é¢ä¸¤è¡Œå¯¹åº”javaä»£ç  int i = 1
iconst_1  // å°†ç«‹å³æ•° 1 å‹æ ˆ 
istore_1  // æ“ä½œæ•°æ ˆé¡¶ -> å±€éƒ¨å˜é‡è¡¨ 1 ä½ç½®

// ä¸‹é¢ä¸‰è¡Œä»£ç å¯¹åº”javaä»£ç  i = i++
iload_1   // å±€éƒ¨å˜é‡è¡¨ 1 ä½ç½® -> æ“ä½œæ•°æ ˆé¡¶ï¼Œæ­¤æ—¶æ“ä½œæ•°æ ˆé¡¶ä¸º1
iinc 1 1  // å°†å±€éƒ¨å˜é‡è¡¨ç´¢å¼•ä¸º1ä½ç½®çš„å€¼ï¼ŒåŠ ä¸Š1ï¼Œä¹Ÿå°±æ˜¯æ•°å€¼ä»1å˜æˆ2
istore_1  // æ“ä½œæ•°æ ˆé¡¶ -> å±€éƒ¨å˜é‡è¡¨ 1 ä½ç½®ï¼Œä¹Ÿå°±æ˜¯ç”¨æ“ä½œæ•°æ ˆé¡¶çš„1å°†å±€éƒ¨å˜é‡è¡¨ä¸­çš„2è¦†ç›–æ‰ï¼Œæ­¤æ—¶å±€éƒ¨å˜é‡è¡¨è¡¨ 1 ä½ç½®çš„å€¼ä¸º1.
```
å…·ä½“è¿‡ç¨‹å¦‚ä¸‹ï¼š

![è¯·æ·»åŠ å›¾ç‰‡æè¿°](https://raw.githubusercontent.com/zouquchen/Images/main/imgs/i.gif)


ğŸ“Œ å¯¹äº`i = ++i;`

```
// ä¸‹é¢ä¸¤è¡Œå¯¹åº”javaä»£ç  int i = 1
iconst_1  // å°†ç«‹å³æ•° 1 å‹æ ˆ 
istore_1  // æ“ä½œæ•°æ ˆé¡¶ -> å±€éƒ¨å˜é‡è¡¨ 1 ä½ç½®

// ä¸‹é¢ä¸‰è¡Œä»£ç å¯¹åº”javaä»£ç  i = ++i
iinc 1 1   // å±€éƒ¨å˜é‡è¡¨ 1 ä½ç½®çš„å€¼ +1ï¼Œä¹Ÿå°±æ˜¯æ•°å€¼ä»1å˜æˆ2
iload_1    // å±€éƒ¨å˜é‡è¡¨ 1 ä½ç½® -> æ“ä½œæ ˆé¡¶ï¼Œæ­¤æ—¶æ“ä½œæ•°æ ˆé¡¶ä¸º2
istore_1  //  æ“ä½œæ•°æ ˆé¡¶ -> å±€éƒ¨å˜é‡è¡¨ 1 ä½ç½®ï¼Œä¹Ÿå°±æ˜¯ç”¨æ“ä½œæ•°æ ˆé¡¶çš„2å°†å±€éƒ¨å˜é‡è¡¨ä¸­çš„2è¦†ç›–
```

å…·ä½“è¿‡ç¨‹å¦‚ä¸‹ï¼š

![è¯·æ·»åŠ å›¾ç‰‡æè¿°](https://raw.githubusercontent.com/zouquchen/Images/main/imgs/88701881c9b34c98b164cccac6822183.gif)
## 4  `k = i + ++i * i++`

ä¸‹é¢æ€è€ƒä¸€ä¸‹è¿™ä¸ªé—®é¢˜ï¼š

```java
public static void main(String[] args) {
    int i = 2;
    int k = i + ++i * i++;
    System.out.println(i);
    System.out.println(k);
}
```

ğŸ’¡ **é¦–å…ˆè¦çŸ¥é“ $2 + 3 \times 5$ æ˜¯å¦‚ä½•è®¡ç®—çš„ã€‚**

1 å°†2å‹å…¥æ ˆ
2 å°†3å‹å…¥æ ˆ
3 å°†5å‹å…¥æ ˆ
4 å¼¹å‡º3å’Œ5
5 è®¡ç®— $3 \times 5$ï¼Œå°†15å‹å…¥æ ˆ
6 å¼¹å‡º2å’Œ15
7 è®¡ç®— $2 + 15$ï¼Œå°†17å‹å…¥æ ˆ

`int k = i + ++i * i++;`ä¸ä¸Šé¢çš„è®¡ç®—è¿‡ç¨‹ä¸€æ ·ã€‚

ğŸ” ä»å­—èŠ‚ç è§’åº¦çœ‹çœ‹

```
iconst_2   // å°†ç«‹å³æ•° 2 å‹æ ˆ 
istore_1   // æ“ä½œæ•°æ ˆé¡¶ -> å±€éƒ¨å˜é‡è¡¨ 1 ä½ç½®ï¼Œç°åœ¨å±€éƒ¨å˜é‡è¡¨ 1 çš„ä½ç½®çš„æ•°å€¼ä¸º2ï¼Œä¹Ÿå°±æ˜¯i=2
iload_1    // å±€éƒ¨å˜é‡è¡¨ 1 ä½ç½® -> æ“ä½œæ ˆé¡¶ï¼Œæ­¤æ—¶æ“ä½œæ•°æ ˆé¡¶ä¸º2
iinc 1, 1  // å±€éƒ¨å˜é‡è¡¨ 1 çš„ä½ç½®çš„æ•°å€¼åŠ 1ï¼Œå˜æˆ3
iload_1    // å±€éƒ¨å˜é‡è¡¨ 1 ä½ç½® -> æ“ä½œæ ˆé¡¶ï¼Œæ­¤æ—¶æ“ä½œæ•°æ ˆé¡¶ä¸º3ï¼Œæ­¤æ—¶æ ˆä¸­å…ƒç´ æœ‰ (2, 3)
iload_1    // å±€éƒ¨å˜é‡è¡¨ 1 ä½ç½® -> æ“ä½œæ ˆé¡¶ï¼Œæ­¤æ—¶æ“ä½œæ•°æ ˆé¡¶ä¸º3 ï¼Œæ­¤æ—¶æ ˆä¸­å…ƒç´ æœ‰ (2, 3, 3)
iinc 1, 1  // å±€éƒ¨å˜é‡è¡¨ 1 çš„ä½ç½®çš„æ•°å€¼åŠ 1ï¼Œå˜æˆ4
imul       // å–å‡ºæ ˆé¡¶çš„ä¸¤ä¸ªå…ƒç´ ç›¸ä¹˜ï¼Œç»“æœå†æ”¾å›æ ˆé¡¶ï¼Œæ­¤æ—¶æ ˆä¸­å…ƒç´ æœ‰ (2, 9)
iadd       // å–å‡ºæ ˆé¡¶çš„ä¸¤ä¸ªå…ƒç´ ç›¸åŠ ï¼Œç»“æœå†æ”¾å›æ ˆé¡¶ï¼Œæ­¤æ—¶æ ˆä¸­å…ƒç´ æœ‰ (11)
istore_2   // æ“ä½œæ•°æ ˆé¡¶ -> å±€éƒ¨å˜é‡è¡¨ 2 ä½ç½®ï¼Œç°åœ¨å±€éƒ¨å˜é‡è¡¨ 2 çš„ä½ç½®çš„æ•°å€¼ä¸º11ï¼Œä¹Ÿå°±æ˜¯k=11
```

æ‰€ä»¥ä¸Šé¢è¿™è¡Œä»£ç å…è®¸ä¹‹åçš„ç»“æœï¼š
```java
public static void main(String[] args) {
    int i = 2;
    int k = i + ++i * i++;
    System.out.println(i);  // è¾“å‡ºï¼š4
    System.out.println(k);  // è¾“å‡ºï¼š11
}
```